# ğŸš€ NextJS é™æ€éƒ¨ç½² GitHub Actions

è¿™ä¸ªä»“åº“é…ç½®äº†è‡ªåŠ¨åŒ–çš„ GitHub Actions å·¥ä½œæµï¼Œç”¨äºéƒ¨ç½²åŸºäº TitanJS è„šæ‰‹æ¶çš„ NextJS é™æ€ç«™ç‚¹åˆ° GitHub Pagesã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **NextJS 15.3.4** - React æ¡†æ¶
- **Bun** - JavaScript è¿è¡Œæ—¶å’ŒåŒ…ç®¡ç†å™¨
- **GitHub Actions** - CI/CD è‡ªåŠ¨åŒ–
- **GitHub Pages** - é™æ€ç«™ç‚¹æ‰˜ç®¡

## ğŸ“‹ å‰ç½®è¦æ±‚

1. **GitHub Secrets é…ç½®**ï¼š
   - `REPOSITORY_URL`: æ‚¨çš„ NextJS é¡¹ç›®ä»“åº“ URL
   - `SELF_GITHUB_SECRETS`: GitHub Personal Access Token

2. **é¡¹ç›®é…ç½®**ï¼š
   - ç¡®ä¿æ‚¨çš„ NextJS é¡¹ç›®å¯ç”¨äº†é™æ€å¯¼å‡º (`output: 'export'`)
   - é¡¹ç›®ä½¿ç”¨ Bun ä½œä¸ºåŒ…ç®¡ç†å™¨
   - åŒ…å« `bun.lockb` æ–‡ä»¶

## ğŸš€ éƒ¨ç½²æµç¨‹

### è‡ªåŠ¨è§¦å‘

å·¥ä½œæµä¼šåœ¨ä»¥ä¸‹æƒ…å†µè‡ªåŠ¨è¿è¡Œï¼š
- æ¨é€åˆ° `main` æˆ– `dev` åˆ†æ”¯
- Repository dispatch äº‹ä»¶ (ç±»å‹: `build`)

### æ‰‹åŠ¨è§¦å‘

æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ GitHub Actions é¡µé¢æ‰‹åŠ¨è§¦å‘éƒ¨ç½²ï¼š
1. å‰å¾€ Actions æ ‡ç­¾é¡µ
2. é€‰æ‹© "ğŸš€ NextJS Static Deploy" å·¥ä½œæµ
3. ç‚¹å‡» "Run workflow"
4. é€‰æ‹©è¦éƒ¨ç½²çš„åˆ†æ”¯

## ğŸ“ é¡¹ç›®ç»“æ„è¦æ±‚

æ‚¨çš„ NextJS é¡¹ç›®åº”è¯¥å…·æœ‰ä»¥ä¸‹ç»“æ„ï¼š

```
your-nextjs-project/
â”œâ”€â”€ package.json
â”œâ”€â”€ bun.lockb
â”œâ”€â”€ next.config.ts (æˆ– next.config.js)
â”œâ”€â”€ app/ (æˆ– pages/)
â”œâ”€â”€ public/
â””â”€â”€ ...å…¶ä»–æ–‡ä»¶
```

## âš™ï¸ Next.js é…ç½®

ç¡®ä¿æ‚¨çš„ `next.config.ts` åŒ…å«é™æ€å¯¼å‡ºé…ç½®ï¼š

```typescript
const nextConfig = {
  output: 'export',
  images: {
    unoptimized: true
  },
  trailingSlash: true,
  // å¦‚æœéƒ¨ç½²åˆ°å­è·¯å¾„ï¼Œè¯·é…ç½® basePath
  // basePath: '/your-repo-name',
}
```

## ğŸ“¦ Bun è„šæœ¬

ç¡®ä¿æ‚¨çš„ `package.json` åŒ…å«æ­£ç¡®çš„æ„å»ºè„šæœ¬ï¼š

```json
{
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  }
}
```

## ğŸ”§ å·¥ä½œæµåŠŸèƒ½

### æ„å»ºæ­¥éª¤

1. **ğŸ“¥ ä»£ç æ£€å‡º** - è·å–æœ€æ–°ä»£ç 
2. **ğŸ“¥ å…‹éš†ç§æœ‰ä»“åº“** - ä»æ‚¨çš„é¡¹ç›®ä»“åº“å…‹éš†ä»£ç 
3. **ğŸŸ¢ è®¾ç½® Node.js** - å®‰è£… Node.js 20
4. **ğŸ¥– è®¾ç½® Bun** - å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Bun
5. **ğŸ“¦ å®‰è£…ä¾èµ–** - ä½¿ç”¨ `bun install --frozen-lockfile`
6. **ğŸ”¨ æ„å»ºåº”ç”¨** - ä½¿ç”¨ `bun run build`
7. **ğŸ“¤ å¯¼å‡ºé™æ€æ–‡ä»¶** - å¤åˆ¶æ„å»ºäº§ç‰©
8. **ğŸŒ é…ç½® Pages** - è®¾ç½® GitHub Pages
9. **ğŸš€ éƒ¨ç½²** - éƒ¨ç½²åˆ° GitHub Pages

### ç‰ˆæœ¬ç®¡ç†

- **ğŸ·ï¸ ç‰ˆæœ¬ç¡®å®š** - è‡ªåŠ¨ç”Ÿæˆç‰ˆæœ¬å·
- **ğŸ“‹ å˜æ›´æ—¥å¿—** - ç”Ÿæˆæ›´æ–°æ—¥å¿—
- **ğŸ·ï¸ GitHub Release** - åˆ›å»º GitHub å‘å¸ƒ

## ğŸ“Š éƒ¨ç½²çŠ¶æ€

éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å¯ä»¥ï¼š

1. åœ¨ Actions é¡µé¢æŸ¥çœ‹è¯¦ç»†çš„éƒ¨ç½²æ—¥å¿—
2. è®¿é—® GitHub Pages URL æŸ¥çœ‹éƒ¨ç½²çš„ç«™ç‚¹
3. åœ¨ Releases é¡µé¢æŸ¥çœ‹ç‰ˆæœ¬å‘å¸ƒè®°å½•

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ„å»ºå¤±è´¥**ï¼š
   - æ£€æŸ¥ `next.config.ts` æ˜¯å¦æ­£ç¡®é…ç½®é™æ€å¯¼å‡º
   - ç¡®ä¿é¡¹ç›®æ²¡æœ‰ä½¿ç”¨ä¸å…¼å®¹é™æ€å¯¼å‡ºçš„åŠŸèƒ½

2. **ä¾èµ–å®‰è£…å¤±è´¥**ï¼š
   - ç¡®ä¿ `bun.lockb` æ–‡ä»¶å­˜åœ¨ä¸”æœ€æ–°
   - æ£€æŸ¥ `package.json` ä¸­çš„ä¾èµ–ç‰ˆæœ¬

3. **é¡µé¢æ˜¾ç¤ºç©ºç™½**ï¼š
   - æ£€æŸ¥æ˜¯å¦éœ€è¦é…ç½® `basePath` å’Œ `assetPrefix`
   - ç¡®ä¿å›¾ç‰‡ä¼˜åŒ–å·²ç¦ç”¨ (`images.unoptimized: true`)

### è°ƒè¯•å»ºè®®

- æŸ¥çœ‹ GitHub Actions è¿è¡Œæ—¥å¿—
- æ£€æŸ¥ GitHub Pages è®¾ç½®æ˜¯å¦æ­£ç¡®
- ç¡®è®¤ Secrets é…ç½®æ˜¯å¦å®Œæ•´

## ğŸ“ æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æ£€æŸ¥ Actions è¿è¡Œæ—¥å¿—
2. æŸ¥çœ‹ GitHub Issues
3. è”ç³»é¡¹ç›®ç»´æŠ¤è€…